<!DOCTYPE html>
<html lang="en">
  <head>
    
    <meta charset="UTF-8" />
    <title>Apple Game</title>
    <title>Apple Game</title>

    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans:wght@400;500;700;900&family=Spline+Sans:wght@400;500;700"
    />
     <!-- ‚úÖ Î°úÏª¨ ÎπåÎìúÎêú Tailwind CSS -->
    <link rel="stylesheet" href="../css/style.css" />
  
    <!-- ‚úÖ CDNÏóêÏÑú Tailwind CSS Î∂àÎü¨Ïò§Í∏∞ 
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    
  -->

    <!--Îñ®Ïñ¥ÏßÄÎäî ÍΩÉÍ∞ÄÎ£® Ìö®Í≥ºÎ•º Ï∂îÍ∞ÄÌïòÍ∏∞ ÏúÑÌï¥ confetti ÎùºÏù¥Î∏åÎü¨Î¶¨ Ï∂îÍ∞ÄÌïòÍ∏∞-->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

    
   
  </head>


  <body>
    <!--Í≤åÏûÑ ÏãúÏûë Ï†ÑÏóê Ïπ¥Ïö¥Ìä∏Îã§Ïö¥ ÏöîÏÜå Ï∂îÍ∞Ä
    countdownOverlay: ÌôîÎ©¥ Ï†ÑÏ≤¥Î•º ÎçÆÎäî Î∞òÌà¨Î™Ö Î∞∞Í≤Ω
    counddowntText:Ï§ëÏïôÏùò ÌÅ∞ Ïà´Ïûê-->
    <div id="countdownOverlay" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
    <div id="countdownText" class="text-white text-8xl font-extrabold animate-pulse">3</div>
    </div>
  
    <!--ÏÑ±Í≥µÏãú ÏÇ¨Ïö¥Îìú ÎÇòÍ≤å Ïò§ÎîîÏò§ ÌÉúÍ∑∏ Ï∂îÍ∞Ä-->
    <audio id="scoreSound" src="/sound.wav"  preload="auto"></audio>
    <!--Í≤åÏûÑÏóêÏÑú Ïù¥Í≤ºÏùÑ Îïå ÏÜåÎ¶¨ Ï∂îÍ∞Ä-->
    <audio id="winSound" src="/win.wav" preload="auto"></audio>
    <!--Í≤åÏûÑÏóêÏÑú Ï°åÏùÑ Îïå ÏÜåÎ¶¨ Ï∂îÍ∞Ä-->
    <audio id="loseSound" src="/lose.wav" preload="auto"></audio>
    <!--Í≤åÏûÑÏóêÏÑú Ïù¥Í≤ºÏùÑ Îïå Î∞∞ÎÑà Ïò§Î≤ÑÎ†àÏù¥-->
    <div id="winOverlay" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
       <div class="text-white text-5xl font-extrabold bg-green-500 px-10 py-6 rounded-3xl shadow-lg animate-bounce">
         üéâ ÏäπÎ¶¨ÌïòÏòÄÏäµÎãàÎã§! üéâ </div>
    </div>
    <!--Í≤åÏûÑÏóêÏÑú Ï°åÏùÑ Îïå Î∞∞ÎÑà Ïò§Î≤ÑÎ†àÏù¥-->
    <div id="loseOverlay" class="fixed inset-0 z-50 flex items-center justify-center bg-red-600 bg-opacity-90 hidden">
       <div class="text-white text-6xl font-extrabold animate-bounce">üò¢ Ìå®Î∞∞ÌïòÏòÄÏäµÎãàÎã§ üò¢</div>
    </div>
    <!--Í≤åÏûÑÏóêÏÑú ÎπÑÍ≤ºÏùÑ Îïå Î∞∞ÎÑà Ïò§Î≤ÑÎ†àÏù¥-->
    <!-- Î¨¥ÏäπÎ∂Ä Î∞∞ÎÑà -->
    <div id="drawOverlay" class="fixed inset-0 z-50 flex items-center justify-center bg-yellow-400 bg-opacity-90 hidden">
      <div class="text-[#1c1c0d] text-6xl font-extrabold animate-pulse">ü§ù ÎπÑÍ≤ºÏäµÎãàÎã§ ü§ù</div>
    </div>
   



<!--#f8fcf8ÏóêÏÑú bg Î≥ÄÍ≤Ω-->
      <div class="relative flex size-full min-h-screen flex-col bg-[#f8fcf8] group/design-root overflow-x-hidden" style='font-family: "Spline Sans", "Noto Sans", sans-serif;'>
        <div class="layout-container flex h-full grow flex-col">


        <!-- Ìó§Îçî -->
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7f3e7] px-10 py-3">
          <div class="flex items-center gap-4 text-[#0e1b0e]">
          

            <!--Í≤åÏûÑ Ï†úÎ™© #0e1b0eÏóêÏÑú var(--text--color) Î°ú Î≥ÄÍ≤Ω-->
          <h2 class="text-[#0e1b0e] text-lg font-bold leading-tight tracking-[-0.015em]">üçé Apple Game</h2>
          
          </div>

          


       <!-- ‚è±Ô∏è ÌÉÄÏù¥Î®∏ ÏòÅÏó≠ -->
       <div class="flex items-center gap-4 px-10 py-2">
   



       <!-- Ïà´ÏûêÌòï ÌÉÄÏù¥Î®∏ -->
            <span id="timer-text" class="text-sm font-bold text-[#0e1b0e]">
                Time: 60s </span>

             <!-- ÏßÑÌñâ Î∞î ÌÉÄÏù¥Î®∏ -->
                    <div class="w-[200px] h-3 rounded-full bg-gray-200 overflow-hidden">
                 <div
                    id="timer-bar"
                   class="h-full bg-green-400 w-full transition-all duration-500"
                   ></div>
                 </div>

          <button
          onclick="window.location.href='lobby.html'"
            class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#19e519] text-[#0e1b0e] text-sm font-bold leading-normal tracking-[0.015em]"
          >
           <span class="truncate" >End Game</span>
          </button>

          
         


          


        </header>


        <!-- Ï§ëÏïô ÏΩòÌÖêÏ∏† -->
         <!--ÏñëÏ™Ω Ïó¨Î∞± px-40, ÏΩòÌÖêÏ∏†Îäî flex-colÎ°ú ÏÑ∏Î°ú Î∞©Ìñ• Íµ¨ÏÑ±-->
        <div class="px-40 flex flex-1 justify-center py-5">
           
         <!--ÏãúÍ∞ÑÏù¥ 10Ï¥à Ïù¥ÌïòÍ∞Ä ÎêòÎ©¥ Ï§ëÏïô ÏΩòÌÖêÏ∏† Î∂ÄÎ∂ÑÏù¥ Îπ®Í∞ÑÏÉâÏù¥ ÎêòÎèÑÎ°ù id Ï∂îÍ∞Ä-->
          <div id="game-main" class="layout-content-container flex flex-col max-w-[960px] flex-1">

            <h2 class="text-[#0e1b0e] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5">Apple Game</h2>
            <p class="text-[#0e1b0e] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center">ÏÇ¨Í≥ºÏùò Ìï©ÏùÑ 10ÏúºÎ°ú ÎßåÎìúÏÑ∏Ïöî.</p>

            <!-- ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥-->
             <!--ÏÇ¨Ïö©Ïûê ÌîÑÎ°úÌïÑ 2Í∞ú Ï¢åÏö∞ ÎÇòÎûÄÌûà div>table>tr Íµ¨Ï°∞Î°ú Ï†ïÎ†¨-->
            <div style="display:flex;">

              <!-- ÏÇ¨Ïö©Ïûê 1 -->
              <div class="px-4 py-3 ">
                <div class="flex overflow-hidden rounded-xl border border-[#d0e7d0] bg-[#f8fcf8]">

                  
                <table class="flex-1">
                    <tbody>
                      <!--tr: ÌÖåÏù¥Î∏î ÌïúÏ§Ñ, td1: ÏïàÏóê divÍ∞Ä Îì§Ïñ¥ÏûàÏùå ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ td2: ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ, td3: Ïä§ÏΩîÏñ¥-->
                      <tr class="border-t border-t-[#d0e7d0]">
                        
                        <td class="w-14 px-4 py-2 h-[72px]" >
                          <div class="w-10 aspect-square bg-center bg-cover rounded-full" style='background-image: url();'></div>
                        </td>
                        <!--ÏÑúÎ≤ÑÏóêÏÑú Ïù¥Î¶ÑÍ≥º scoreÍ∞ÄÏßÄÍ≥† ÏôÄÏïºÌï®-->
                        <td class="w-[400px] text-[#0e1b0e] text-sm font-normal leading-normal"></td>
                        <td class="w-[400px] text-[#4e974e] text-sm font-normal leading-normal" id="user1">Score: 0</td>
                      </tr>
                    </tbody>
                  </table>

                </div>
              </div>
              <!-- ÏÇ¨Ïö©Ïûê 2 -->
              <div class="px-4 py-3 ">
                <div class="flex overflow-hidden rounded-xl border border-[#d0e7d0] bg-[#f8fcf8]">
                  <table class="flex-1">
                    <tbody>
                      <tr class="border-t border-t-[#d0e7d0]">
                        <td class="w-14 px-4 py-2 h-[72px]" >
                          <div class="w-10 aspect-square bg-center bg-cover rounded-full" style='background-image: url();'></div>
                        </td>
                        <!--ÏÑúÎ≤ÑÏóêÏÑú ÏÇ¨Ïö©Ïûê2 Ïù¥Î¶ÑÍ≥º score Í∞ÄÏßÄÍ≥† ÏôÄÏïºÌï®-->
                        <td class="w-[400px] text-[#0e1b0e] text-sm font-normal leading-normal"></td>
                        <td class="w-[400px] text-[#4e974e] text-sm font-normal leading-normal" id="user2">Score: 0</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <!-- üü© Í≤åÏûÑ Î≥¥Îìú -->             
<div id="drag-box" class="hidden fixed border-2 border-blue-400 bg-blue-200/30 pointer-events-none z-50"></div>
            <div class="flex w-full justify-center items-center bg-[#f8fcf8] rounded-xl p-4">
              <!--TailwindÎ°ú 17Í∞úÏùò Ïó¥ÏùÑ Í∞ÄÏßÑ CSS Gird ÏÉùÏÑ± 
              class grid-cols-17Î°ú 17Í∞úÏùò Ïó¥ÏùÑ ÏÉùÏÑ±ÌïòÍ≥†, borderÏôÄ Î∞∞Í≤ΩÏÉâ ÏÑ§Ï†ï
              style ÏÜçÏÑ±ÏúºÎ°ú ÎÑàÎπÑÏôÄ ÎÜíÏù¥ ÏûêÎèô ÏÑ§Ï†ï-->
              <div
                 id="game-board"
                 class="relative grid grid-cols-17 rounded-xl border border-[#d0e7d0] "
                 style="display: grid; grid-template-columns: repeat(17, 1fr);  width:auto; height:auto
                 ;"
              >
              <div id="opponent-cursor" style="position: absolute; display: none; width: 10px; height: 10px; background-image: url('/opponent_cursor.png'); background-size: contain; pointer-events: none; z-index: 100;"></div>
              </div>
            </div>
          </div>  
        </div>       
      </div>
    </div>

    <!--game.jsÏïàÏóê ÎÑ£ÏúºÎ©¥ ÎπÑÎèôÍ∏∞ Ìï®ÏàòÎ°ú Ïù∏Ìï¥ Ìò∏Ï∂ú ÏàúÏÑúÍ∞Ä Íº¨Ïó¨ÏÑú html ÎÇ¥Î∂ÄÏóê ÏûëÏÑ±
    Ïπ¥Ïö¥Ìä∏ Îã§Ïö¥ Î°úÏßÅ-->    <!-- üß† Í≤åÏûÑ Î≥¥Îìú ÏÉùÏÑ± Ïä§ÌÅ¨Î¶ΩÌä∏ -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/game.js"> </script>
    <script>
    function startCountdown(callback){
    //Ïπ¥Ïö¥Ìä∏ Îã§Ïö¥ ÌëúÏãúÌïòÎäî Î∂ÄÎ∂ÑÍ≥º ÌÖçÏä§Ìä∏ Î∞õÏïÑÏÑú 3Ï¥à Ïπ¥Ïö¥Ìä∏ ÏßÑÌñâ
    const overlay=document.getElementById("countdownOverlay");
    const text=document.getElementById("countdownText");
    let count=3;

    text.textContent=count; //3Ï¥à Ïπ¥Ïö¥Ìä∏ ÏßÑÌñâÏòàÏ†ï
    overlay.style.display="flex";

    const interval=setInterval(()=>{
      count--;
      if(count>0){
        text.textContent=count; 
      } else if(count==0){
        text.textContent="Start!";
      }  else{ //3Ï¥àÍ∞Ä ÏßÄÎÇòÎ©¥
          clearInterval(interval); 
          overlay.style.display="none"; //Ïπ¥Ïö¥Ìä∏ Îã§Ïö¥ ÌôîÎ©¥ ÏÇ¨ÎùºÏßÄÍ≤å
          //Í≤åÏûÑÏù¥ ÏãúÏûëÎêòÍ≤å
          if(callback) callback(); //Ïù¥ Î∂ÄÎ∂ÑÏóêÏÑú callback()Ïù¥ Ïã§ÌñâÎê®
        } 
    },1000); 
  }
   document.addEventListener('DOMContentLoaded',()=>{
    startCountdown(initializeGame);
  });

    </script>




    <!-- üß† Í≤åÏûÑ Î≥¥Îìú ÏÉùÏÑ± Ïä§ÌÅ¨Î¶ΩÌä∏ -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/game.js"> </script>
    <script src="/js/auth.js"></script>
  
    
  </body>
</html>
