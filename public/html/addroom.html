<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Create Room</title>
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
  <link rel="stylesheet" as="style" onload="this.rel='stylesheet'"
    href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans:wght@400;500;700;900&family=Spline+Sans:wght@400;500;700" />
  <!-- ‚úÖ Î°úÏª¨ ÎπåÎìúÎêú Tailwind CSS -->
    <link rel="stylesheet" href="../css/style.css" />
  
    <!-- ‚úÖ CDNÏóêÏÑú Tailwind CSS Î∂àÎü¨Ïò§Í∏∞ 
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    
  -->

</head>
<body class="bg-[#fcfcf8]" style='font-family: "Spline Sans", "Noto Sans", sans-serif;'>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/auth.js"></script>
  <div class="relative flex min-h-screen flex-col">
   <!--Ï§ëÏïô Ï†ïÎ†¨-->
      <div class="px-40 flex justify-center py-5 flex-1">
        <!--ÏàòÏßÅÏúºÎ°ú Ï†ïÎ†¨ÎêòÍ≤å-->
        <div class="layout-content-container flex flex-col w-[512px] max-w-[960px] flex-1 py-5">
          <h2 class="text-[#1c1c0d] text-[28px] font-bold leading-tight text-center px-4 pb-3 pt-5">üçé Create a Room üçé </h2>

          <div class="text-[#1c1c0d] text-base font-normal leading-normal text-center px-4 pb-3 pt-1">
            <p>Enter a aroom name to create a new game room.</p>
            
          
            <!--ÏûÖÎ†•ÌïÑÎìúÏôÄ Î≤ÑÌäºÏùÑ Î¨∂Ïñ¥ÏÑú Í∞ÄÏö¥Îç∞ Ï†ïÎ†¨ ÎêòÍ≤å-->
            <div class="flex justify-center items-center">
            
            
          <!-- ÏûÖÎ†• ÌïÑÎìú -->
          <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
            <label class="flex flex-col min-w-40 flex-1">
              <input
                id="roomName"
                type="text"
                placeholder="Room name"
                class="form-input w-full rounded-xl text-[#1c1c0d] focus:outline-0 border-none bg-[#f4f4e6] h-14 placeholder:text-[#9e9e47] p-4 text-base font-normal"
              />
            </label>
          </div>

          <!-- Î≤ÑÌäº -->
          <div class="flex px-4 py-3">

            <!--ÎπÑÎ∞ÄÎ≤àÌò∏ ÏïàÏπòÎ©¥ Í∑∏ÎÉ• Create ÎêòÍ≤å, ÎπÑÎ∞ÄÎ≤àÌò∏ ÏÑ§Ï†ïÏùÄ ÏûêÏú† Create Î≤ÑÌäºÏùÑ ÎàÑÎ•º Îïå ÎπÑÎ∞ÄÎ≤àÌò∏ ÏûÖÎ†• Ï∞ΩÏù¥ Îú®Í≤å ÏàòÏ†ï
            onclick="creaateRoom()" ÏóêÏÑú ÏÉàÎ°úÏö¥ ÌéòÏù¥ÏßÄÎ°ú ÏàòÏ†ï-->
            <button 
              onclick="openPasswordModal()"
              id="createRoom"
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center rounded-full h-10 px-4 flex-1 bg-[#e4e405] text-[#1c1c0d] text-sm font-bold tracking-[0.015em]"
            >
              <span class="truncate">Create</span>
            </button>
          </div>

            </div>
        </div>
      </div>
    </div>
  </div>


<!--Ï∂îÍ∞ÄÌïú Î∂ÄÎ∂Ñ-->
  <!--Î™®Îã¨: ÎπÑÎ∞ÄÎ≤àÌò∏ ÏûÖÎ†•Ï∞Ω -->
  <div id="passwordModal" class="hidden fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50">
    <div class="bg-white p-8 rounded-xl shadow-md w-[360px] text-center">
      <h2 class="text-xl font-bold mb-4 text-[#1c1c0d]">Set Room Password</h2>
      <input
        id="roomPassword"
        type="password"
        placeholder="Enter a room password"
        class="w-full border rounded-md px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-yellow-400"
      />

      <div class="flex justify-between gap-2 mt-2">
        <!--Î∞© ÎπÑÎ∞ÄÎ≤àÌò∏ ÏÉùÏÑ±Î≤ÑÌäºÍ≥º ÎπÑÎ∞ÄÎ≤àÌò∏ ÏóÜÏù¥ ÏÉùÏÑ±-->
        <button
          onclick="createRoom(true)"
          class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center rounded-full h-10 px-4 flex-1 bg-[#e4e405] text-[#1c1c0d] text-sm font-bold tracking-[0.015em]">
          Create
        </button>
      </div>
    </div>
  </div>
    
  <!-- Ïä§ÌÅ¨Î¶ΩÌä∏ -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/addroom.js"></script>

  <!--ÎπÑÎ∞ÄÎ≤àÌò∏ Í¥ÄÎ†® Ïä§ÌÅ¨Î¶ΩÌä∏ -->
  <script>
    function openPasswordModal() {
      const roomName = document.getElementById("roomName").value.trim();
      document.getElementById("passwordModal").classList.remove("hidden");
    }

    function submitRoom(withPassword) {
      const roomName = document.getElementById("roomName").value.trim();
      const password = withPassword ? document.getElementById("roomPassword").value : "";

      
    
      // Î™®Îã¨ Îã´Í∏∞
      document.getElementById("passwordModal").classList.add("hidden");
      window.location.href='lobby.html'
    }
  </script>
</body>
</html>
